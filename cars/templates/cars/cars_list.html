<!doctype html>
<html lang="ru">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <title>Автомобили</title>
  </head>

  <body>
    <div class="container">

        <nav class="navbar navbar-expand-lg navbar-light bg-info">
            <a class="navbar-brand" href="{% url 'cars_list_url' %}">Cars</a>
        </nav>

        <form method="GET">
          <table class="table table-sm">
            <form method="get" id="filter">
              <table class="table table-sm">
                  {{ form.as_table }}
              </table>
              <input type="submit" class="btn btn-primary" value="Применить">
          </form>
        </table>
        </form>
    </div>

    <div class="container"><hr></div>
    {% if cars %}
    <div class="container" style="margin-top: 50px;">
      <h2>Автомобили</h2>

      <table class="table table-striped">
        <thead>
          <tr>
            <th scope="col">#</th>
            <th scope="col">Производитель</th>
            <th scope="col">Модель</th>
            <th scope="col">Год выпуска</th>
            <th scope="col">Коробка передач</th>
            <th scope="col">Цвет</th>
          </tr>
        </thead>
        <tbody>
          {% for car in cars %}
          <tr>
            <th scope="row">{{forloop.counter}}</th>
            <td>{{car.manufacturer}}</td>
            <td>{{car.model}}</td>
            <td>{{car.year_of_issue}}</td>
            <td>{{car.get_transmission_display}}</td>
            <td>{{car.colour}}</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
      
      {% else %}
      <div class="container" style="margin-top: 50px;">
      <h2>Такого автомобиля нет в списке</h2>
      </div>
    </div>
    {% endif %}
  </body>
</html>